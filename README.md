# inception
docker와 docker compose를 실습해보는 과제로  
아래와 같은 서비스를 구성하는 것이 목표입니다.  
<img width="564" alt="image" src="https://github.com/user-attachments/assets/f9a69808-acb6-47bb-a4ee-575b9b4a3772" />


---
목차
1. 과제를 통해 알게 된 것
2. 평가 피드백
---

1. 과제를 통해 알게 된 것  
1.1. 격리와 밀집  
개별 프로그램 측면에서는 누구로부터도 침해받지 않는 "격리"된 공간이 필요합니다. 그러나, 운영체제 측면에서는 개별 프로그램들이 최대한 많이 RAM에 올라가는 "밀집"을 달성할 필요가 있습니다. 이 상충되어 보이는 조건을 만족하기 위해 처음으로 나온 것이 가상 머신이었습니다. 그러나 가상 머신은 격리는 보장해줄진 모르나 밀집은 달성할 수 없습니다. 왜냐하면 별도의 운영체제를 필요로 하기 때문에 호스트의 cpu 자원과 메모리를 상당량 차지하기 때문입니다.
그래서 나온 것이 컨테이너입니다. 컨테이너는 가상 머신과 비슷하지만 호스트 컴퓨터의 운영체제를 공유하기 때문에 필요한 리소스가 크게 경감됩니다. 거기에 더해 컨테이너 역시 외부와 독립된 환경을 제공하므로 밀집과 격리를 동시에 달성할 수 있게 됩니다.  

1.2. container를 다룰 때 주의할 점  
컨테이너를 다룰 때는 한 컨테이너에 하나의 프로그램만 올라가야 합니다. 한 프로그램에 완전히 "격리"된 독립적인 환경을 제공하는 것이 컨테이너의 기본 철학이기 때문입니다. 이에 더하여 이 프로그램은 반드시 PID 1이 되어야 합니다. PID 1은 모든 다른 프로세스의 조상 프로세스를 의미하는데 만약 메인 프로세스가 PID 1이 아니라면 SIGTERM 같은 시그널이 들어왔을 때 처리되지 못하고 컨테이너가 적절하게 종료되지 못할 위험이 있습니다.  
그래서 해당 과제에서는 init.sh가 특정 컨테이너에서 실행될 때 맨 끝에 exec 명령어를 통해 메인 프로세스를 올림으로써 PID 1 처리를 해주었습니다.  

2. 평가 피드백
<img width="1017" alt="스크린샷 2025-01-17 오후 2 52 03" src="https://github.com/user-attachments/assets/4459fc81-fc87-4413-95ad-e44718081465" />
